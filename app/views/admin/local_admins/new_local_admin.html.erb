<h1>Create Local Admin</h1>
<%=form_for @local_admin ,:url=>local_admins_create_local_admin_path , :html => { :class => "form-horizontal",:multipart => true} do |f| %>
    <%= fields_for @la_setting do |l| %>
        <%= fields_for @local_admin.build_profile do |p| %>
            <% if @local_admin.errors.any? || @la_setting.errors.any?  %>
                <div id="error_explanation">
                  <h2><%= pluralize(@local_admin.errors.count + @la_setting.errors.count, "error") %> prohibited this Local Admin from being saved:</h2>

                  <ul>
                    <% @local_admin.errors.full_messages.each do |msg| %>
                        <li><%= msg %></li>
                    <% end %>
                    <% @la_setting.errors.full_messages.each do |msg| %>
                        <li><%= msg %></li>
                    <% end %>
                  </ul>
                </div>
            <% end %>

            <div class="control-group">
              <label class="control-label" for="input01">Email: <span style="color:red"> *</span></label>
              <div class="controls">
                <%=f.text_field :email,:class=>"input"%> <span><%= link_to "Check Existence" ,"#",:class => "btn" ,:id => "check" ,:confirm => "Under Development"%></span>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"> </p>
              </div>
            </div>

            <h3>LA Group Details</h3>



            <div class="control-group">
              <label class="control-label" for="input01">Local Admin Name:: <span style="color:red"> *</span></label>
              <div class="controls">
                <%=l.text_field :local_admin_name,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">LA country: <span style="color:red"> *</span></label>
              <div class="controls">
                <%=l.autocomplete_field :la_country ,autocomplete_country_detail_name_local_admins_path,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <td><label class="control-label" for="input01">LA Language: <span style="color:red">* </span></label></td>
              <div class="controls">
                <%=l.autocomplete_field :language ,autocomplete_language_name_local_admins_path ,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <td><label class="control-label" for="input01">LA Group Email ID: <span style="color:red">* </span></label></td>
              <div class="controls">
                <%=l.text_field :la_email  ,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">LA Facebook Page URL: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :la_facebook ,:id => "facebook",:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">LA Twitter Handle: <span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_field :la_twitter ,:id => "twitter",:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">LA LinkedIn URL: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :la_linked_in ,:id => "linkedin",:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>


            <h3>LA Organization Details</h3>

            <div id = "render_name"><%= render :partial => "la_name" %> </div>

            <div class="control-group">
              <label class="control-label" for="input01">Company Name: <span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_field :company_name,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>
            <div class="control-group">
              <label class="control-label" for="input01">Country: <span style="color:red"> </span></label>
              <div class="controls">
                <%=f.autocomplete_field :country ,autocomplete_country_detail_name_local_admins_path,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">City: <span style="color:red"> </span></label>
              <div class="controls">
                <%=p.text_field :city,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">ZipCode: <span style="color:red"> </span></label>
              <div class="controls">
                <%=p.text_field :zip_code,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Address: <span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_field :address,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Additional_address: <span style="color:red"> </span></label>
              <div class="controls">
                <%=p.text_field :additional_address_info,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Phone Number: <span style="color:red"> </span></label>
              <div class="controls">
                <%=p.text_field :telephone_number,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <h3>LA Group Contact Person</h3>

            <div class="control-group">
              <label class="control-label" for="input01">Contact First Name: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :contact_first_name,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Contact Last Name: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :contact_last_name,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Contact email: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :contact_email,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Contact Photo: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.file_field :contact_photo,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Contact Biography: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :contact_biography,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>
             <h3>Terms and Condition</h3>
            <div class="control-group">
              <label class="control-label" for="input01"><%= l.label "User Terms:" %><span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_area :user_terms, :rows => 5,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01"><%= l.label "Project Terms:" %><span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_area :project_terms, :rows => 5,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01"><%= l.label "Worker Terms:" %><span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_area :worker_terms, :rows => 5,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01"><%= l.label "Worker Consultant Terms:" %><span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_area :worker_consultant_terms, :rows => 5,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01"><%= l.label "Admin Group Terms:" %><span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_area :admin_group_terms, :rows => 5,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01"><%= l.label "Business Group Terms:" %><span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_area :business_group_terms, :rows => 5,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01"><%= l.label "No Profit Terms:" %><span style="color:red"> </span></label>
              <div class="controls">
                <%=l.text_area :no_profit_terms, :rows => 5,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>
            <h3>Billing And Commission related</h3>
            <div class="control-group">
              <label class="control-label" for="input01">PasS LA Commissions: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :pass_la_commissions ,:id => "commission",:class=>"input"%><span> %</span>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>
            <h5>All details regarding Default Billing Profile as well as PaaS Billing Profile will place here</h5>
            <div class="control-group">
              <label class="control-label" for="input01">Master Billing Profile Deviation: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.radio_button :master_billing_profile_deviation, true,:class=>"input"%>  True   </div>
              <div class="controls"> <%= l.radio_button :master_billing_profile_deviation, false,:class=>"input"%> false  </div>
              <!--<input type="text" class="input-xlarge" id="input01">-->
              <p class="help-block"></p>
            </div>


            <div class="control-group">
              <label class="control-label" for="input01">Master Administration Deviation:<span style="color:red"> </span></label>
              <div class="controls">
                <%= l.radio_button :master_administration_deviation, true,:class=>"input"%>  True   </div>
              <div class="controls"> <%=l.radio_button :master_administration_deviation, false,:class=>"input"%> false  </div>
              <!--<input type="text" class="input-xlarge" id="input01">-->
              <p class="help-block"></p>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Master Worker Deviation: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :master_worker_deviation,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label" for="input01">Master Worker Deviation Comment: <span style="color:red"> </span></label>
              <div class="controls">
                <%= l.text_field :master_worker_deviation_comment,:class=>"input"%>
                <!--<input type="text" class="input-xlarge" id="input01">-->
                <p class="help-block"></p>
              </div>
            </div>

            <div class="form-actions">
              <%= f.submit "Create Local Admin",:class =>"btn btn-primary"  %>
              <a class="btn" href="/">Cancel</a>
              <!--<input type="text" class="input-xlarge"  id="input01">-->
            </div>
        <% end %>
    <% end %>
<%end%>
<%= content_for :head do  %>
    <script type="text/javascript">

        jQuery(function(){

//            $("#check").click(function(event){
//                event.preventDefault();
//
//                url = location.href
//                var link = $("#ajax_path").text()
//                var email = $("#user_email").val()
////
//                $.get("/local_admins/check_for_existing_user",{"email" :email},function(k){}
////
//                )
//
//            });
            var email = new LiveValidation('user_email',{validMessage:" ",onlyOnSubmit:true});
            email.add( Validate.Presence );
            email.add( Validate.Email);
            var contact_email = new LiveValidation('la_setting_contact_email',{validMessage:" ",onlyOnSubmit:true});
            contact_email.add( Validate.Email);
            var la_country = new LiveValidation('la_setting_la_country',{validMessage:" ",onlyOnSubmit:true});
            la_country.add( Validate.Presence );
            var country = new LiveValidation('user_country',{validMessage:" ",onlyOnSubmit:true});
            country.add( Validate.Presence );
//            var web = new LiveValidation('la_setting_web_domain',{validMessage:" ",onlyOnSubmit:true});
//            web.add( Validate.Presence );
//            var platform_home = new LiveValidation('la_setting_platform_home',{validMessage:" ",onlyOnSubmit:true});
//            platform_home.add( Validate.Presence );
//              var zipcode = new LiveValidation('profile_zip_code',{validMessage:" ",onlyOnSubmit:true});
//              zipcode.add( Validate.Presence );
//              var addr = new LiveValidation('la_setting_address',{validMessage:" ",onlyOnSubmit:true});
//              addr.add( Validate.Presence );

//            var status = new LiveValidation('la_setting_status',{validMessage:" ",onlyOnSubmit:true});
//            status.add( Validate.Presence );
//              var profile_first_name = new LiveValidation("profile_first_name",{validMessage:" ",onlyOnSubmit:true});
//              profile_first_name.add(Validate.Presence,{failureMessage:"Can't be empty"})
//              var profile_last_name = new LiveValidation("profile_last_name",{validMessage:" ",onlyOnSubmit:true});
//              profile_last_name.add(Validate.Presence,{failureMessage:"Can't be empty"})
//              var profile_city = new LiveValidation("profile_city",{validMessage:" ",onlyOnSubmit:true});
//              profile_city.add(Validate.Presence,{failureMessage:"Can't be empty"})
//              var profile_state = new LiveValidation("profile_state",{validMessage:" ",onlyOnSubmit:true});
//              profile_state.add(Validate.Presence,{failureMessage:"Can't be empty"})
            var profile_telephone_number = new LiveValidation("profile_telephone_number",{validMessage:" ",onlyOnSubmit:true});
            // profile_telephone_number.add(Validate.Presence,{failureMessage:"Can't be empty"})
            profile_telephone_number.add(Validate.Numericality,{failureMessage:"Can't be empty"})
//            var profile_billing = new LiveValidation("la_setting_billing_profile_id",{validMessage:" ",onlyOnSubmit:true});
//            profile_billing.add(Validate.Presence,{failureMessage:"Can't be empty"})
//            var profile_plate_form_billing = new LiveValidation("la_setting_platform_billing_profile_id",{validMessage:" ",onlyOnSubmit:true});
//            profile_plate_form_billing.add(Validate.Presence,{failureMessage:"Can't be empty"})
            var la_name = new LiveValidation("la_setting_local_admin_name",{validMessage:" ",onlyOnSubmit:true});
            la_name.add(Validate.Presence,{failureMessage:"Can't be empty"})

//            var devition = new LiveValidation("la_setting_master_worker_deviation",{validMessage:" ",onlyOnSubmit:true});
//            devition.add(Validate.Presence,{failureMessage:"Can't be empty"})
//
//            var devition_comment = new LiveValidation("la_setting_master_worker_deviation_comment",{validMessage:" ",onlyOnSubmit:true});
//            devition_comment.add(Validate.Presence,{failureMessage:"Can't be empty"})


            var language = new LiveValidation("la_setting_language",{validMessage:" ",onlyOnSubmit:true});
            language.add(Validate.Presence,{failureMessage:"Can't be empty"})
            var commission = new LiveValidation("commission",{validMessage:" ",onlyOnSubmit:true});
            commission.add(Validate.Numericality,{failureMessage:"Must be number"})

            var facebook =   new LiveValidation("facebook",{validMessage:" ",onlyOnSubmit:true});
            facebook.add( Validate.Format , { pattern: /^(ht|f)tps?:\/\/[a-z0-9-\.]+\.[a-z]{2,4}\/?([^\s<>\#%"\,\{\}\\|\\\^\[\]`]+)?$/, failureMessage: "Must be a valid URL" });
            var twitter =   new LiveValidation("twitter",{validMessage:" ",onlyOnSubmit:true});
            twitter.add( Validate.Format , { pattern: /^(ht|f)tps?:\/\/[a-z0-9-\.]+\.[a-z]{2,4}\/?([^\s<>\#%"\,\{\}\\|\\\^\[\]`]+)?$/, failureMessage: "Must be a valid URL" });
            var linked_in =   new LiveValidation("linkedin",{validMessage:" ",onlyOnSubmit:true});
            linked_in.add( Validate.Format , { pattern: /^(ht|f)tps?:\/\/[a-z0-9-\.]+\.[a-z]{2,4}\/?([^\s<>\#%"\,\{\}\\|\\\^\[\]`]+)?$/, failureMessage: "Must be a valid URL" });

//            $('#dob').datepicker({
//                changeMonth: true,
//                changeYear: true,
//                yearRange: 'c-100:c'
//
//
//            });









        });
    </script>
<% end %>